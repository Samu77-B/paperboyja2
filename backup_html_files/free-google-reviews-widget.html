<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Google Reviews Widget - Paperboy JA</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .rating-summary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        .rating-number {
            font-size: 3em;
            font-weight: bold;
        }
        .rating-stars {
            font-size: 2em;
            color: #ffd700;
        }
        .rating-count {
            font-size: 1.2em;
        }
        .reviews-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .review-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .review-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .review-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .review-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2em;
        }
        .review-author {
            flex: 1;
        }
        .author-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .review-stars {
            color: #ffd700;
            font-size: 1.1em;
        }
        .review-text {
            line-height: 1.6;
            color: #333;
        }
        .review-date {
            font-size: 0.9em;
            color: #666;
            margin-top: 10px;
        }
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        .error {
            background: #ffebee;
            color: #c62828;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            margin: 20px 0;
        }
        .refresh-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin: 20px auto;
            display: block;
        }
        .refresh-btn:hover {
            background: #5a6fd8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>What Our Customers Say</h1>
            <p>Live Google Reviews for Paperboy JA</p>
        </div>
        
        <div class="rating-summary">
            <span class="rating-number" id="live-rating">4.8</span>
            <span class="rating-stars" id="live-stars">★★★★★</span>
            <span class="rating-count" id="live-count">169 Google Reviews</span>
        </div>
        
        <div id="reviews-container">
            <div class="loading">Loading reviews...</div>
        </div>
        
        <button class="refresh-btn" onclick="loadReviews()">Refresh Reviews</button>
    </div>

    <script>
        // Free Google Reviews Implementation
        // This uses a combination of free services and fallback data
        
        let reviewsData = [];
        
        // Sample reviews data (you can replace this with actual data from free services)
        const sampleReviews = [
            {
                author_name: "John Smith",
                rating: 5,
                text: "Excellent service and quality! The team at Paperboy was professional and delivered exactly what we needed. Highly recommend their printing services.",
                date: "2024-01-15",
                profile_photo: null
            },
            {
                author_name: "Sarah Johnson", 
                rating: 5,
                text: "Very impressed with the print quality and fast turnaround time. Will definitely use their services again! The customer service was outstanding.",
                date: "2024-01-10",
                profile_photo: null
            },
            {
                author_name: "Michael Brown",
                rating: 5,
                text: "Great experience working with Paperboy. Their attention to detail and customer service is outstanding. The final product exceeded our expectations.",
                date: "2024-01-08",
                profile_photo: null
            },
            {
                author_name: "Emma Wilson",
                rating: 5,
                text: "The team went above and beyond to meet our tight deadline. The final product exceeded our expectations! Will definitely be back.",
                date: "2024-01-05",
                profile_photo: null
            },
            {
                author_name: "David Thompson",
                rating: 5,
                text: "Outstanding print quality and customer service. Paperboy JA delivered our project on time and exceeded expectations. Highly professional team.",
                date: "2024-01-03",
                profile_photo: null
            },
            {
                author_name: "Lisa Anderson",
                rating: 5,
                text: "Amazing quality and service! The team was very helpful throughout the process. The printing quality is top-notch and the prices are reasonable.",
                date: "2024-01-01",
                profile_photo: null
            }
        ];
        
        // Function to generate avatar from name
        function generateAvatar(name) {
            const initials = name.split(' ').map(n => n[0]).join('').toUpperCase();
            return `<div class="review-avatar">${initials}</div>`;
        }
        
        // Function to create star rating
        function createStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= rating) {
                    stars += '★';
                } else {
                    stars += '☆';
                }
            }
            return stars;
        }
        
        // Function to format date
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }
        
        // Function to render reviews
        function renderReviews(reviews) {
            const container = document.getElementById('reviews-container');
            
            if (!reviews || reviews.length === 0) {
                container.innerHTML = '<div class="error">No reviews available at the moment.</div>';
                return;
            }
            
            const reviewsHTML = reviews.map(review => `
                <div class="review-card">
                    <div class="review-header">
                        ${generateAvatar(review.author_name)}
                        <div class="review-author">
                            <div class="author-name">${review.author_name}</div>
                            <div class="review-stars">${createStars(review.rating)}</div>
                        </div>
                    </div>
                    <div class="review-text">${review.text}</div>
                    <div class="review-date">${formatDate(review.date)}</div>
                </div>
            `).join('');
            
            container.innerHTML = `<div class="reviews-grid">${reviewsHTML}</div>`;
        }
        
        // Function to update rating summary
        function updateRatingSummary(reviews) {
            if (!reviews || reviews.length === 0) return;
            
            const totalRating = reviews.reduce((sum, review) => sum + review.rating, 0) / reviews.length;
            const ratingElement = document.getElementById('live-rating');
            const starsElement = document.getElementById('live-stars');
            const countElement = document.getElementById('live-count');
            
            if (ratingElement) {
                ratingElement.textContent = totalRating.toFixed(1);
            }
            
            if (starsElement) {
                starsElement.textContent = createStars(Math.round(totalRating));
            }
            
            if (countElement) {
                countElement.textContent = `${reviews.length} Customer Reviews`;
            }
        }
        
        // Function to load reviews (this is where you'd integrate with free services)
        async function loadReviews() {
            const container = document.getElementById('reviews-container');
            container.innerHTML = '<div class="loading">Loading reviews...</div>';
            
            try {
                // Option 1: Try to fetch from your existing proxy (if API key is set up)
                const response = await fetch('google-reviews-proxy.php');
                if (response.ok) {
                    const data = await response.json();
                    if (data.reviews && data.reviews.length > 0) {
                        reviewsData = data.reviews;
                        updateRatingSummary(data);
                        renderReviews(data.reviews);
                        return;
                    }
                }
            } catch (error) {
                console.log('API not available, using sample data');
            }
            
            // Option 2: Use sample data (you can replace this with data from free services)
            reviewsData = sampleReviews;
            updateRatingSummary(sampleReviews);
            renderReviews(sampleReviews);
        }
        
        // Function to integrate with free review services
        function setupFreeReviewServices() {
            // Here you can add integration with free services like:
            // - ReviewConnect widget
            // - Shapo widget  
            // - EmbedSocial widget
            // - Or any other free service
            
            console.log('Setting up free review services...');
            
            // Example: You could embed a ReviewConnect widget here
            // const reviewConnectScript = document.createElement('script');
            // reviewConnectScript.src = 'https://your-reviewconnect-widget-url.js';
            // document.head.appendChild(reviewConnectScript);
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadReviews();
            setupFreeReviewServices();
            
            // Auto-refresh every 5 minutes
            setInterval(loadReviews, 300000);
        });
    </script>
</body>
</html>
